{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_oer/view-list

    Taken from block_myoverview.
    This template renders the list view for the myoverview block.

    Example context (json):
    {
        "courses": [
            {
                "name": "Assignment due 1",
                "viewurl": "https://moodlesite/course/view.php?id=2",
                "courseimage": "https://moodlesite/pluginfile/123/course/overviewfiles/123.jpg",
                "fullname": "course 3",
                "progress": 10,
                "coursecategory": "Miscellaneous",
                "blockid": 12,
                "id": 7,
                "accessuntil": "End SS21"
            }
        ]
    }
}}
<ul class="list-group">
    {{#files}}
        <li class="list-group-item">
            <div data-oerid="{{identifier}}" class="row-fluid">
                <div class="col-md-11 col-md-11 d-flex align-items-center" style="{{#ignore}} opacity: 0.5 {{/ignore}}">
                    <div class="d-flex justify-content-start align-items-top my-2">
                        <div class="m-0 img-thumbnail d-flex justify-content-center align-items-center" style="object-fit: cover; width: 40px; height: 40px;">
                            <img class="icon m-0 p-0" alt="" aria-hidden="true" style="object-fit: cover; width: 24px; height: 24px;" src="{{icon}}"/>
                        </div>
                    </div>
                    <div class="pl-1 col-2">
                        <p class="card-title d-block m-0 text-truncate">
                            <span title="{{title}}">{{{title}}}</span>
                            {{#ignore}}
                                <small><i class="icon fa fa-info-circle fa-fw" title="{{#str}} isignored, local_oer{{/str}}" aria-hidden="true"></i></small>
                            {{/ignore}}
                        </p>
                    </div>
                    <div class="col-3">
                        <ul class="list-group">
                            <div class="col-1">
                                {{> local_oer/badges }}
                            </div>
                            {{#requirementsmet}}
                                <li class="list-group-item border-0 p-0">
                                    <small><small>{{#pix}}i/valid, core{{/pix}} {{#str}} requirementsmet, local_oer{{/str}}</small></small>
                                </li>
                            {{/requirementsmet}}
                            {{^requirementsmet}}
                                <li class="list-group-item border-0 p-0">
                                    <small><small>{{#pix}}req, core, {{#str}}required{{/str}}{{/pix}}{{#str}} requirementsnotmet, local_oer{{/str}}</small></small>
                                </li>
                            {{/requirementsmet}}
                        </ul>
                    </div>
                    <div class="col-3">
                        {{> local_oer/information }}
                    </div>
                    <div class="col-3">
                        <ul class="list-group">
                            <li class="list-group-item border-0 p-0">
                                <small><small>{{#str}} lastchange, local_oer{{/str}} {{timemodified}}</small></small>
                            </li>
                            <li class="list-group-item border-0 p-0">
                                <small><small>{{#str}} uploaded, local_oer{{/str}} {{timeuploaded}}</small></small>
                            </li>
                        </ul>
                    </div>
                    <div class="d-flex float-right mt-2 col-1 justify-content-end">
                        {{> local_oer/file-action-menu }}
                    </div>
                </div>
            </div>
        </li>
    {{/files}}
</ul>
